<% content_for :title, "University Memos & Announcements" %>

<div class="mb-4">
  <h1 class="h1">University Memos & Announcements</h1>
  <div class="mt-3">
    <%= render 'shared/search_form', query: params[:query], search_scope: :post, url: posts_path %>
  </div>
</div>

<div class="d-flex justify-content-end align-items-center mb-3">
  <span>Show:</span>
  <div class="dropdown ms-2">
    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="perPageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
      <%= params[:per] || 10 %> per page
    </button>
    <ul class="dropdown-menu" aria-labelledby="perPageDropdown">
      <li><%= link_to "10", url_for(params.permit(:search).merge(per: 10)), class: "dropdown-item" %></li>
      <li><%= link_to "25", url_for(params.permit(:search).merge(per: 25)), class: "dropdown-item" %></li>
      <li><%= link_to "50", url_for(params.permit(:search).merge(per: 50)), class: "dropdown-item" %></li>
    </ul>
  </div>
</div>

<div id="posts-container" data-controller="posts-loader">
  <%= render "shared/skeleton_loader" %>
  <%= render "shared/skeleton_loader" %>
  <%= render "shared/skeleton_loader" %>
</div>

<div class="mt-4 d-flex justify-content-center">
  <%== pagy_bootstrap_nav(@pagy) %>
</div>
