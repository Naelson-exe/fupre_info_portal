<%# app/views/admin/events/_form.html.erb %>
<%= form_with(model: [:admin, @event], local: true, class: "needs-validation", novalidate: true, data: { controller: "autosave form-submission validation", validation_target: "form" }) do |form| %>
  <%= render 'shared/error_messages', object: @event %>

  <div class="mb-3">
    <%= form.label :title, class: "form-label" %>
    <%= form.text_field :title, class: "form-control", required: true, data: { controller: "focus" } %>
    <div class="invalid-feedback">
      Please provide a title.
    </div>
  </div>

  <div class="mb-3">
    <%= form.label :details, class: "form-label" %>
    <%= form.rich_text_area :details, class: "form-control", style: "height: 200px;" %>
  </div>

  <div class="row">
    <div class="col-md-6 mb-3">
      <%= form.label :event_type, class: "form-label" %>
      <%= form.select :event_type, options_for_select([['Event', 'event'], ['Deadline', 'deadline']], @event.event_type), {}, class: "form-select" %>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 mb-3">
      <%= form.label :start_date, class: "form-label" %>
      <%= form.date_field :start_date, class: "form-control" %>
    </div>
    <div class="col-md-6 mb-3">
      <%= form.label :end_date, class: "form-label" %>
      <%= form.date_field :end_date, class: "form-control" %>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 mb-3">
      <%= form.label :event_time, class: "form-label" %>
      <%= form.time_field :event_time, class: "form-control" %>
    </div>
  </div>

  <div class="mb-3 form-check">
    <%= form.check_box :featured, class: "form-check-input" %>
    <%= form.label :featured, class: "form-check-label" %>
  </div>

  <div class="d-flex justify-content-end">
    <%= link_to "Cancel", admin_events_path, class: "btn btn-secondary me-2" %>
    <%= form.submit "Save Event", class: "btn btn-primary", data: { form_submission_target: "submit" } %>
  </div>
<% end %>
