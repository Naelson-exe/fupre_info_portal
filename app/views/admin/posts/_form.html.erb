<%# app/views/admin/posts/_form.html.erb %>
<%= form_with(model: [:admin, @post], local: true, class: "needs-validation", novalidate: true, data: { controller: "autosave" }) do |form| %>
  <%= render 'shared/error_messages', object: @post %>

  <div class="mb-3">
    <%= form.label :title, class: "form-label" %>
    <%= form.text_field :title, class: "form-control", required: true %>
    <div class="invalid-feedback">
      Please provide a title.
    </div>
  </div>

  <div class="mb-3">
    <%= form.label :summary, class: "form-label" %>
    <%= form.text_area :summary, rows: 3, class: "form-control", data: { controller: "character-counter" } %>
    <div class="form-text" data-character-counter-target="output">
      A brief summary that will appear in list views.
    </div>
  </div>

  <div class="mb-3">
    <%= form.label :content, class: "form-label" %>
    <%= form.rich_text_area :content, class: "form-control", style: "height: 250px;" %>
  </div>

  <div class="mb-3">
    <%= form.label :status, class: "form-label" %>
    <%= form.select :status, Post.statuses.keys.map { |status| [status.humanize, status] }, {}, class: "form-select" %>
  </div>

  <div class="mb-3 form-check">
    <%= form.check_box :featured, class: "form-check-input" %>
    <%= form.label :featured, class: "form-check-label" %>
  </div>

  <div class="d-flex justify-content-end">
    <%= link_to "Cancel", admin_posts_path, class: "btn btn-secondary me-2" %>
    <%= form.submit "Save Memo", class: "btn btn-primary" %>
  </div>
<% end %>
