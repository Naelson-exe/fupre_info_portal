<% content_for :title, @event.title %>
<% content_for :meta_description, truncate(@event.details.to_plain_text, length: 160) %>

<%# Breadcrumb Navigation %>
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><%= link_to "Home", root_path %></li>
    <li class="breadcrumb-item"><%= link_to "Events", events_path %></li>
    <li class="breadcrumb-item active" aria-current="page"><%= @event.title %></li>
  </ol>
</nav>

<div class="card shadow-sm">
  <div class="card-body">
    <%# Event Header %>
    <h1 class="card-title h2">
      <%= @event.title %>
      <% if @event.deadline? %>
        <span class="badge bg-warning text-dark">Deadline</span>
      <% end %>
    </h1>
    <p class="card-subtitle mb-3 text-muted">
      <% if @event.start_date.present? && @event.end_date.present? %>
        Date: <%= @event.start_date.to_fs(:long) %> - <%= @event.end_date.to_fs(:long) %>
      <% elsif @event.start_date.present? %>
        Date: <%= @event.start_date.to_fs(:long) %>
      <% elsif @event.end_date.present? %>
        Deadline: <%= @event.end_date.to_fs(:long) %>
      <% end %>
      <% if @event.event_time.present? %> at <%= @event.event_time.strftime("%I:%M %p") %><% end %>
    </p>
    
    <hr>

    <%# Event Content %>
    <div class="card-text mt-4">
      <%= @event.details %>
    </div>
  </div>
</div>

<%# Back to Events Link %>
<div class="mt-4">
  <%= link_to "← Back to All Events", events_path, class: "btn btn-outline-primary" %>
</div>
